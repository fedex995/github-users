(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(35),o=n.n(l),c=n(5),i=n(3),u=n(15),s=n(16),E=n(19),m=n(17),d=n(18),h=function(e){return{type:"GET_USER_REQUEST",username:e}},b=function(e){return{type:"GET_USER_RESPONSE",user:e}},f=function(e){return{type:"GET_USER_ERROR",error:e}},p=function(e){return{type:"GET_REPOS_REQUEST",reposUrl:e}},v=function(e){return{type:"GET_REPOS_RESPONSE",repos:e}},O=function(e){return{type:"GET_REPOS_ERROR",error:e}},g=n(11),S=(n(55),n(37)),y=n.n(S),R=function(){return r.a.createElement(y.a,{type:"ThreeDots",color:"#00aeef",height:"44",width:"80"})},j=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(E.a)(this,Object(m.a)(t).call(this,e))).onInputChangeRef=n.onInputChange.bind(Object(g.a)(Object(g.a)(n))),n.onFormSubmitRef=n.onFormSubmit.bind(Object(g.a)(Object(g.a)(n))),n.state={value:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onInputChange",value:function(e){this.setState({value:e.target.value})}},{key:"onFormSubmit",value:function(e){e.preventDefault(),this.props.loadingUser||this.props.searchUser(this.state.value)}},{key:"render",value:function(){return r.a.createElement("form",{className:"search-container",onSubmit:this.onFormSubmitRef},r.a.createElement("input",{value:this.state.value,onChange:this.onInputChangeRef,autoFocus:!0}),r.a.createElement("label",null,"Type in the user you want to look up"),this.props.loadingUser?r.a.createElement(R,null):r.a.createElement("button",{className:"alternative",type:"submit"},"Search"),r.a.createElement("label",{className:"error-label ".concat(this.props.userNotFound&&"show")},"The user doesn't exist!"))}}]),t}(a.Component),_=Object(c.c)(function(e){return{loadingUser:e.ui.loadingUser,userNotFound:e.ui.userNotFound}},function(e){return{searchUser:function(t){return e(h(t))}}})(Object(i.e)(j)),U=(n(82),n(83),n(84),function(e){var t=e.repos;return r.a.createElement("div",{className:"repos-container section"},t.map(function(e){return r.a.createElement("div",{className:"repo row",key:e.id},r.a.createElement("label",null,r.a.createElement("b",null,"ID:")," ",e.id),r.a.createElement("label",null,r.a.createElement("b",null,"Name:")," ",r.a.createElement("a",{href:e.clone_url,target:"blank"},e.name)),r.a.createElement("label",null,r.a.createElement("b",null,"Description:")," ",e.description||"-"),r.a.createElement("div",{className:"actions"}))}))}),N=Object(c.c)(function(e){return{loadingRepos:e.ui.loadingRepos,repos:e.repos}},function(e){return{}})(Object(i.e)(U)),w=n(39),T=n.n(w),k=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(E.a)(this,Object(m.a)(t).call(this))).state={currentTab:0,showInfo:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.user.id&&setTimeout(function(){return e.setState({showInfo:!0})},300)}},{key:"render",value:function(){var e=this,t=this.props.user;return t.id||this.props.history.push("/"),r.a.createElement("div",{className:"user-info-container ".concat(this.state.showInfo&&"show")},r.a.createElement("div",{className:"back-container",onClick:function(){return e.props.history.goBack()}},r.a.createElement("img",{alt:"back",src:T.a}),r.a.createElement("label",null,"Go Back")),r.a.createElement(G,{user:t}),r.a.createElement("div",{className:"row section highlights"},[{title:"Public repos",value:t.public_repos},{title:"Public gists",value:t.public_gists},{title:"Followers",value:t.followers},{title:"Following",value:t.following}].map(function(e){return r.a.createElement("div",{className:"col",key:e.title},r.a.createElement("label",null,r.a.createElement("b",null,e.title)),r.a.createElement("label",null,e.value))})),r.a.createElement("div",{className:"tabs section row"},["Profile","Repos"].map(function(t,n){return r.a.createElement("div",{key:t,className:"col"+(n===e.state.currentTab?" active":""),onClick:function(){return e.setState({currentTab:n})}},r.a.createElement("label",null,t))})),0===this.state.currentTab?r.a.createElement(I,{user:t}):r.a.createElement(N,null))}}]),t}(a.Component),I=function(e){var t=e.user,n=[{title:"ID",value:t.id},{title:"Name",value:t.name},{title:"Type",value:t.type},{title:"Company",value:t.company},{title:"Blog",value:t.blog},{title:"Location",value:t.location},{title:"Email",value:t.email},{title:"Bio",value:t.bio},{title:"Created at",value:new Date(t.created_at).toDateString()},{title:"Updated at",value:new Date(t.updated_at).toDateString()}];return r.a.createElement("div",{className:"details section"},n.map(function(e){return e.value?r.a.createElement("div",{className:"row",key:e.title},r.a.createElement("label",null,r.a.createElement("b",null,e.title,":")," ",e.value)):null}))},G=function(e){var t=e.user,n=e.onUserClick;return r.a.createElement("div",{className:"row section user-info",key:t.id,onClick:n?function(){return n(t.login)}:null},r.a.createElement("div",{className:"col"},r.a.createElement("img",{className:"avatar",alt:"avatar",src:t.avatar_url}),r.a.createElement("h2",null,t.login),r.a.createElement("a",{href:t.html_url,onClick:function(e){return e.stopPropagation()},target:"blank"},"Go to profile"),t.visited&&r.a.createElement("label",null,"Visited ",t.visited," ","time".concat(1===t.visited?"":"s"))))},C=k,P=(n(85),function(e){var t=e.searches,n=e.onUserClick;return r.a.createElement("div",{className:"searches-container"},r.a.createElement("h2",{className:"title"},"Search history"),r.a.createElement("div",{className:"searches"},t.length>0?t.map(function(e){return r.a.createElement(G,{key:e.id,user:e,onUserClick:n})}):r.a.createElement("label",{className:"no-history-label"},"Your previous searches will appear here, go on and try it!")))}),F=Object(c.c)(function(e){return{searches:e.history.allIds.map(function(t){return e.history.byId[t]})}},function(e){return{onUserClick:function(t){return e(h(t))}}})(Object(i.e)(P)),D=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(E.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-screen"},r.a.createElement(_,null),r.a.createElement(F,null))}}]),t}(a.Component),Q=Object(c.c)(function(e){return{loadingUser:e.ui.loadingUser,showUserInfo:e.ui.showUserInfo}},function(e){return{}})(Object(i.e)(D)),x=(n(86),function(e){var t=e.history;return r.a.createElement("nav",null,r.a.createElement("button",{onClick:function(){return t.push("/")}},r.a.createElement("label",null,"Github User Search")))}),B=Object(c.c)(function(e){return{user:e.user}},function(e){return{}})(Object(i.e)(C)),J=r.a.createElement("div",{className:"main-container"},r.a.createElement(x,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:Q}),r.a.createElement(i.a,{exact:!0,path:"/user",component:B}))),L=n(9),A=n(34),K=n(13),M=n(40),V=n(41),Y=n.n(V),q=n(8),z={loadingUser:!1,loadingRepos:!1,userNotFound:!1,showUserInfo:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;switch((arguments.length>1?arguments[1]:void 0).type){case"GET_USER_REQUEST":return Object(q.a)({},e,{loadingUser:!0,userNotFound:!1});case"GET_USER_RESPONSE":return Object(q.a)({},e,{loadingUser:!1,showUserInfo:!0});case"GET_USER_ERROR":return Object(q.a)({},e,{loadingUser:!1,userNotFound:!0});case"GET_REPOS_REQUEST":return Object(q.a)({},e,{loadingRepos:!0});case"GET_REPOS_RESPONSE":return Object(q.a)({},e,{loadingRepos:!1});default:return e}},W={},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_REQUEST":return{};case"GET_USER_RESPONSE":return Object(q.a)({},t.user);default:return e}},Z=n(44),$=[],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REPOS_REQUEST":return[];case"GET_REPOS_RESPONSE":return Object(Z.a)(t.repos);default:return e}},te=n(24),ne=localStorage.history?JSON.parse(localStorage.history):{allIds:[],byId:{}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_RESPONSE":var n={allIds:-1===e.allIds.indexOf(t.user.login)?[t.user.login].concat(e.allIds):e.allIds,byId:Object(q.a)({},e.byId,Object(te.a)({},t.user.login,Object(q.a)({},t.user,{visited:e.byId[t.user.login]?e.byId[t.user.login].visited+1:1,visited_at:Date.now()})))};return n.allIds.sort(function(e,t){return n.byId[e].visited_at<n.byId[t].visited_at?1:-1}),localStorage.history=JSON.stringify(n),n;default:return e}},re=n(14),le=Object(L.a)(),oe=Object(K.c)({ui:H,user:X,repos:ee,history:ae,router:Object(re.b)(le)}),ce=n(42),ie=n(4),ue=n(43),se=n.n(ue).a.create();se.defaults.timeout=3e4;var Ee=function(e){return function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];return se({url:e,method:t,data:n}).then(function(e){if(200===e.status||201===e.status||204===e.status)return e.data;throw e.data}).catch(function(e){throw e.response||{status:500}})}(e,"GET")},me=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){e(n),"GET_USER_REQUEST"===n.type&&Ee(ce.githubURL+n.username).then(function(e){console.log(e),t(b(e)),t(p(e.repos_url)),t(Object(ie.d)("/user"))}).catch(function(e){return t(f(e))}),"GET_REPOS_REQUEST"===n.type&&Ee(n.reposUrl).then(function(e){t(v(e))}).catch(function(e){return t(O(e))})}}},de=Object(L.a)(),he=Object(A.a)(de),be={store:Object(K.e)(oe,void 0,Object(K.d)(Object(K.a)(M.a,Y.a,he,me))),history:de};n(106);o.a.render(r.a.createElement(c.a,{store:be.store},r.a.createElement(re.a,{history:be.history},J)),document.getElementById("root"))},39:function(e,t,n){e.exports=n.p+"static/media/arrow-up-DARK.1e818085.svg"},42:function(e){e.exports={githubURL:"https://api.github.com/users/"}},46:function(e,t,n){e.exports=n(107)},55:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){}},[[46,1,2]]]);
//# sourceMappingURL=main.e0872060.chunk.js.map